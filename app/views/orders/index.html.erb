<link href="https://cdn.datatables.net/1.10.12/css/jquery.dataTables.css" rel="stylesheet" />
<link href="https://cdn.datatables.net/buttons/1.2.2/css/buttons.dataTables.css" rel="stylesheet" />
<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
<script src="https://cdn.datatables.net/1.10.16/js/jquery.dataTables.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
<script src="https://cdn.datatables.net/buttons/1.4.2/js/dataTables.buttons.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.32/pdfmake.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.32/vfs_fonts.js"></script>
<script src="https://cdn.datatables.net/buttons/1.4.2/js/buttons.html5.min.js"></script>
<div class="container">
  <table id="example" class="display nowrap" width="100%">
  <thead>
    <tr>
      <th>Product</th>
      <th>Price</th>
      <th>Status</th>
      <th>Quantity</th>
      <th>Address</th>
      <th>Town</th>
      <th>Postal code</th>
      <th></th>
    </tr>
  </thead>
  <tfoot>
      <th>Product</th>
      <th>Price</th>
      <th>Status</th>
      <th>Quantity</th>
      <th>Address</th>
      <th>Town</th>
      <th>Postal code</th>
      <th></th>
      </tfoot>

  <tbody>
    <% @orders.each do |order| %>
      <tr>
        <% if order.product.image.present? %>
        <td><%= image_tag order.product.image_url, height: "100", width: "100"%></td>
        <% else %>
        <td></td>
        <% end %>
        <td><%= order.price %></td>
        <td><%= order.status %></td>
        <td><%= order.quantity %></td>
        <td><%= order.address %></td>
        <td><%= order.town %></td>
        <td><%= order.postal_code %></td>
        <td><%= link_to 'Rate & Review Product', order, class: 'btn btn-primary' %></td>
      </tr>
    <% end %>
  </tbody>
</table>
</div>
<script type="text/javascript">
 $(document).ready(function() {
  $('#example').DataTable({
    dom: 'Bfrtip',
    buttons: [{
      extend: 'pdf',
      title: 'Customized PDF Title',
      filename: 'customized_pdf_file_name'
    }, {
      extend: 'excel',
      title: 'Customized EXCEL Title',
      filename: 'customized_excel_file_name'
    }, {
      extend: 'csv',
      filename: 'customized_csv_file_name'
    }]
  });
});
</script>
